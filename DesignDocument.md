# Introduction 

*URL shortening* is a service that produces short aliases for long URLs, commonly referred to as short links. Upon clicking, these short links direct to the original URLs. 

## Advantages

- Shortened URLs are convenient to use: they optimize link usage across different forms of devices due to their enhanced accessibility and non-breakability.
- They facilitate a higher degree of sharing possibilities.
- They are less error-prone while typing.

## Design 

### Function Requirements

- *Short URL generation:* Service should be able to generate a unique shorter alias of the given URL.
- *Redirection:* Given a short link, our system should be able to redirect the user to the original URL.
- *Deletion:* User should be able to delete a short link generated by our system

### Non Functional Requirements

- *Availability:* System should be highly available, because a downtime would result in URL redirection failures. 
- *Scalability:* System should be horizontally scalable when demand increases
- *Latency:* System should perform at low latency to provide a good experience to ensure retention

### Components
```
             ------------                            Rate Limiter     _ Cache
            |Create URL  |                               ||          |  
 Client  -->|Delete URL  | <---> Load Balancer <---> API servers <---| 
(ReactJs)   |Get URLs    |                                           |_ Database        
            |Redirect URL|                           (Flask API)       (Postgres)
            -------------                                     
```
###### System APIs

System API is design using Python's FLASK API from the requirements (https://app.coderpad.io/DTWDGD6W)

Implemented a Rate limiter using Flask-Limiter

- POST /shortener
- GET /shortener
- DELETE /shortener/<id\>
- GET/<code\>

Access the Swagger API after setting up the project : > http://localhost:5004/doc
  
##### Client

The Client is designed using ReactJS, Redux ToolKit and Axios

##### Database

Postgres Database is used with sqlalchemy as the ORM

### Workflow

*Shortening:*  
- Each new request for short link computation gets forwarded to the short URL generator by the application server.
- The short URL generated in the Python API using base58 instead of base64.
*Characters like O (capital o) and 0 (zero), I (capital I), and l (lower case L) can be confused while characters like + and / should be avoided because of other system-dependent encodings.*
- Upon successful generation of the short link, the system sends one copy back to the user and stores the record in the database for future use.

*Redirection:* 
- Application servers, upon receiving the redirection requests, check the storage units (caching system and database) for the required record. If found, the application server redirects the user to the associated long URL.

*Deletion* 
- User can delete a record by requesting the application server which forwards the user details and the associated URLâ€™s information to the database server for deletion.


